jQuery(document).foundation(),jQuery(document).ready(function(){function t(t){var e=t.options.map(function(t){return'<select name="'+t.name+'">'+t.values.map(function(t){return'<option value="'+t+'">'+t+"</option>"})+"</select>"});return e}function e(t){jQuery(".variant-selectors").on("change","select",function(e){var c=jQuery(e.target),u=c.attr("name"),o=c.val();t.options.filter(function(t){return t.name===u})[0].selected=o;var s=t.selectedVariant,l=t.selectedVariantImage;n(t.title),i(l),a(s),r(s)})}function n(t){jQuery("#instrument-1 .product-title").text(t)}function i(t){jQuery("#instrument-1 .variant-image").attr("src",t.src)}function a(t){jQuery("#instrument-1 .variant-title").text(t.title)}function r(t){jQuery("#instrument-1 .variant-price").text("$"+t.price)}function c(t){jQuery(".buy-button").on("click",function(e){e.preventDefault();t.selectedVariant.id;d(t.selectedVariant,1)})}function u(t){jQuery(".cart").on("click",".quantity-increment",function(){var e=parseInt(jQuery(this).attr("data-variant-id"),10),n=t.variants.filter(function(t){return t.id===e})[0];jQuery(this).closest(".cart-item").addClass("js-working"),jQuery(this).attr("disabled","disabled"),d(n,1)})}function o(t){jQuery(".cart").on("click",".quantity-decrement",function(){var e=parseInt(jQuery(this).attr("data-variant-id"),10),n=t.variants.filter(function(t){return t.id===e})[0];jQuery(this).closest(".cart-item").addClass("js-working"),jQuery(this).attr("disabled","disabled"),d(n,-1)})}function s(){jQuery(".cart").addClass("js-active")}function l(){jQuery(".cart .btn--close").click(function(){jQuery(".cart").removeClass("js-active")})}function d(t,e){s(),v.addVariants({variant:t,quantity:e}).then(function(){m()})["catch"](function(t){console.log("Fail"),console.error(t)}),j()}function m(){var t=jQuery(".cart-item-container");t.empty();var e=jQuery("#cart-item-template").html(),n=v.lineItems.map(function(t,n){var i=jQuery(e),a=t.image.src;return i.find(".cart-item__img").css("background-image","url("+a+")"),i.find(".cart-item__title").text(t.title),i.find(".cart-item__variant-title").text(t.variant_title),i.find(".cart-item__price").text(f(t.line_price)),i.find(".cart-item__quantity").attr("value",t.quantity),i.find(".quantity-decrement").attr("data-variant-id",t.variant_id),i.find(".quantity-increment").attr("data-variant-id",t.variant_id),Q<v.lineItems.length&&n===v.lineItems.length-1&&(i.addClass("js-hidden"),Q=v.lineItems.length),Q>v.lineItems.length&&(Q=v.lineItems.length),i});t.append(n),setTimeout(function(){t.find(".js-hidden").removeClass("js-hidden")},0),jQuery(".cart .pricing").text(f(v.subtotal))}function f(t){return"$"+parseFloat(t,10).toFixed(2).replace(/(\d)(?=(\d{3})+\.)/g,"$1,").toString()}function y(){jQuery(".btn--cart-checkout").on("click",function(){window.open(v.checkoutUrl,"_self")})}function j(){if(v.lineItems.length>0){var t=v.lineItems.reduce(function(t,e){return t+e.quantity},0);jQuery(".btn--cart-tab .btn__counter").html(t),jQuery(".btn--cart-tab").addClass("js-active")}else jQuery(".btn--cart-tab").removeClass("js-active"),jQuery(".cart").removeClass("js-active");jQuery(".btn--cart-tab").click(function(){s()})}var v,Q,h=ShopifyBuy.buildClient({apiKey:"3c62d5e2c648655996660c5f9782ddd6",myShopifyDomain:"artiphon",appId:"6"});localStorage.getItem("lastCartId")?h.fetchCart(localStorage.getItem("lastCartId")).then(function(t){v=t,Q=v.lineItems.length,m()}):h.createCart().then(function(t){v=t,localStorage.setItem("lastCartId",v.id),Q=0}),h.fetchProduct("1468933509").then(function(s){var d=s.selectedVariant,m=s.selectedVariantImage,f=(s.options,t(s));jQuery(".variant-selectors").html(f),n(s.title),i(m),a(d),r(d),c(s),e(s),u(s),o(s),j(),y(),l()})}),jQuery(document).ready(function(){jQuery(".accordion p:empty, .orbit p:empty").remove(),jQuery(".archive-grid .columns").last().addClass("end"),jQuery('iframe[src*="youtube.com"], iframe[src*="vimeo.com"]').each(function(){jQuery(this).innerWidth()/jQuery(this).innerHeight()>1.5?jQuery(this).wrap("<div class='widescreen flex-video'/>"):jQuery(this).wrap("<div class='flex-video'/>")}),jQuery(".popup-close-button").click(function(){jQuery(".user-guide-callout").addClass("hide")}),jQuery(".user-guide-button").click(function(){jQuery(".user-guide-callout").addClass("hide");var t=jQuery(this).data("popup");jQuery("#"+t).removeClass("hide")})});
//# sourceMappingURL=scripts.min.js.map
