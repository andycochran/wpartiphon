{"version":3,"sources":["init-foundation.js","shopify.js","wp-foundation.js"],"names":["jQuery","document","foundation","ready","generateSelectors","product","elements","options","map","option","name","values","value","attachOnVariantSelectListeners","on","event","$element","target","attr","val","filter","selected","selectedVariant","selectedVariantImage","updateProductTitle","title","updateVariantImage","updateVariantTitle","updateVariantPrice","text","image","src","variant","price","attachBuyButtonListeners","preventDefault","id","addVariantToCart","attachQuantityIncrementListeners","variantId","parseInt","this","variants","closest","addClass","attachQuantityDecrementListeners","openCart","closeCart","click","removeClass","quantity","cart","addVariants","then","renderCartItems","errors","console","log","error","updateCartTabButton","$cartItemContainer","empty","lineItemEmptyTemplate","html","$cartLineItems","lineItems","lineItem","index","$lineItemTemplate","itemImage","find","css","variant_title","formatAsMoney","line_price","variant_id","cartLineItemCount","length","append","setTimeout","subtotal","amount","parseFloat","toFixed","replace","toString","attachCheckoutButtonListeners","window","open","checkoutUrl","totalItems","reduce","total","item","client","ShopifyBuy","buildClient","apiKey","myShopifyDomain","appId","localStorage","getItem","fetchCart","remoteCart","createCart","newCart","setItem","fetchProduct","variantSelectors","remove","last","each","innerWidth","innerHeight","wrap","theCallout","data"],"mappings":"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","file":"scripts.min.js","sourcesContent":["jQuery(document).foundation();","/*\n https://github.com/Shopify/js-buy-sdk/blob/master/examples/cart/index.html\n*/\n\n\njQuery(document).ready(function() {\n\n\n    /* Build new ShopifyBuy client\n    ============================================================ */\n    var client = ShopifyBuy.buildClient({\n      apiKey: '3c62d5e2c648655996660c5f9782ddd6',\n      myShopifyDomain: 'artiphon',\n      appId: '6'\n    });\n\n    var cart;\n    var cartLineItemCount;\n    if(localStorage.getItem('lastCartId')) {\n      client.fetchCart(localStorage.getItem('lastCartId')).then(function(remoteCart) {\n        cart = remoteCart;\n        cartLineItemCount = cart.lineItems.length;\n        renderCartItems();\n      });\n    } else {\n      client.createCart().then(function (newCart) {\n        cart = newCart;\n        localStorage.setItem('lastCartId', cart.id);\n        cartLineItemCount = 0;\n      });\n    }\n\n    /* Fetch product and init\n    ============================================================ */\n    client.fetchProduct('1468933509').then(function (product) {\n      var selectedVariant = product.selectedVariant;\n      var selectedVariantImage = product.selectedVariantImage;\n      var currentOptions = product.options;\n\n      var variantSelectors = generateSelectors(product);\n      jQuery('.variant-selectors').html(variantSelectors);\n\n      updateProductTitle(product.title);\n      updateVariantImage(selectedVariantImage);\n      updateVariantTitle(selectedVariant);\n      updateVariantPrice(selectedVariant);\n\n      attachBuyButtonListeners(product);\n      attachOnVariantSelectListeners(product);\n\n      attachQuantityIncrementListeners(product);\n      attachQuantityDecrementListeners(product);\n\n      updateCartTabButton();\n\n      attachCheckoutButtonListeners();\n\n      closeCart();\n\n    });\n\n    /* Generate DOM elements for variant selectors\n    ============================================================ */\n    function generateSelectors(product) {\n      var elements = product.options.map(function(option) {\n        return '<select name=\"' + option.name + '\">' + option.values.map(function(value) {\n          return '<option value=\"' + value + '\">' + value + '</option>';\n        }) + '</select>';\n      });\n\n      return elements;\n    }\n\n    /* Variant option change handler\n    ============================================================ */\n    function attachOnVariantSelectListeners(product) {\n      jQuery('.variant-selectors').on('change', 'select', function(event) {\n        var $element = jQuery(event.target);\n        var name = $element.attr('name');\n        var value = $element.val();\n        product.options.filter(function(option) {\n          return option.name === name;\n        })[0].selected = value;\n\n        var selectedVariant = product.selectedVariant;\n        var selectedVariantImage = product.selectedVariantImage;\n        updateProductTitle(product.title);\n        updateVariantImage(selectedVariantImage);\n        updateVariantTitle(selectedVariant);\n        updateVariantPrice(selectedVariant);\n      });\n    }\n\n    /* Update product title\n    ============================================================ */\n    function updateProductTitle(title) {\n      jQuery('#instrument-1 .product-title').text(title);\n    }\n\n    /* Update product image based on selected variant\n    ============================================================ */\n    function updateVariantImage(image) {\n      jQuery('#instrument-1 .variant-image').attr('src', image.src);\n    }\n\n    /* Update product variant title based on selected variant\n    ============================================================ */\n    function updateVariantTitle(variant) {\n      jQuery('#instrument-1 .variant-title').text(variant.title);\n    }\n\n    /* Update product variant price based on selected variant\n    ============================================================ */\n    function updateVariantPrice(variant) {\n      jQuery('#instrument-1 .variant-price').text('$' + variant.price);\n    }\n\n    /* Attach and control listeners onto buy button\n    ============================================================ */\n    function attachBuyButtonListeners(product) {\n      jQuery('.buy-button').on('click', function (event) {\n        event.preventDefault();\n        var id = product.selectedVariant.id;\n        addVariantToCart(product.selectedVariant, 1);\n      });\n    }\n\n    /* Increase product variant quantity in cart\n    ============================================================ */\n    function attachQuantityIncrementListeners(product) {\n      jQuery('.cart').on('click', '.quantity-increment', function() {\n        var variantId = parseInt(jQuery(this).attr('data-variant-id'), 10);\n        var variant = product.variants.filter(function (variant) {\n          return (variant.id === variantId);\n        })[0];\n\n        jQuery(this).closest('.cart-item').addClass('js-working');\n        jQuery(this).attr('disabled', 'disabled');\n\n        addVariantToCart(variant, 1);\n      });\n    }\n\n    /* Decrease product variant quantity in cart\n    ============================================================ */\n    function attachQuantityDecrementListeners(product) {\n      jQuery('.cart').on('click', '.quantity-decrement', function() {\n        var variantId = parseInt(jQuery(this).attr('data-variant-id'), 10);\n        var variant = product.variants.filter(function (variant) {\n          return (variant.id === variantId);\n        })[0];\n\n        jQuery(this).closest('.cart-item').addClass('js-working');\n        jQuery(this).attr('disabled', 'disabled');\n\n        addVariantToCart(variant, -1);\n      });\n    }\n\n    /* Open Cart\n    ============================================================ */\n    function openCart() {\n      jQuery('.cart').addClass('js-active');\n    }\n\n    /* Close Cart\n    ============================================================ */\n    function closeCart() {\n      jQuery('.cart .btn--close').click(function () {\n        jQuery('.cart').removeClass('js-active');\n      });\n    }\n\n    /* Add 'quantity' amount of product 'variant' to cart\n    ============================================================ */\n    function addVariantToCart(variant, quantity) {\n      openCart();\n\n      cart.addVariants({ variant: variant, quantity: quantity }).then(function() {\n        renderCartItems();\n      }).catch(function (errors) {\n        console.log('Fail');\n        console.error(errors);\n      });\n\n      updateCartTabButton();\n    }\n\n    /* Render the line items currently in the cart */\n    function renderCartItems() {\n      var $cartItemContainer = jQuery('.cart-item-container');\n      var totalPrice = 0;\n\n      $cartItemContainer.empty();\n      var lineItemEmptyTemplate = jQuery('#cart-item-template').html();\n      var $cartLineItems = cart.lineItems.map(function (lineItem, index) {\n        var $lineItemTemplate = jQuery(lineItemEmptyTemplate);\n        var itemImage = lineItem.image.src;\n        $lineItemTemplate.find('.cart-item__img').css('background-image', 'url(' + itemImage + ')');\n        $lineItemTemplate.find('.cart-item__title').text(lineItem.title);\n        $lineItemTemplate.find('.cart-item__variant-title').text(lineItem.variant_title);\n        $lineItemTemplate.find('.cart-item__price').text(formatAsMoney(lineItem.line_price));\n        $lineItemTemplate.find('.cart-item__quantity').attr('value', lineItem.quantity);\n        $lineItemTemplate.find('.quantity-decrement').attr('data-variant-id', lineItem.variant_id);\n        $lineItemTemplate.find('.quantity-increment').attr('data-variant-id', lineItem.variant_id);\n\n        if (cartLineItemCount < cart.lineItems.length && (index === cart.lineItems.length - 1)) {\n          $lineItemTemplate.addClass('js-hidden');\n          cartLineItemCount = cart.lineItems.length;\n        }\n\n        if (cartLineItemCount > cart.lineItems.length) {\n          cartLineItemCount = cart.lineItems.length;\n        }\n\n        return $lineItemTemplate;\n      });\n      $cartItemContainer.append($cartLineItems);\n\n      setTimeout(function () {\n        $cartItemContainer.find('.js-hidden').removeClass('js-hidden');\n      }, 0);\n\n      jQuery('.cart .pricing').text(formatAsMoney(cart.subtotal));\n    }\n\n    /* Format amount as currency\n    ============================================================ */\n    function formatAsMoney(amount) {\n      return '$' + parseFloat(amount, 10).toFixed(2).replace(/(\\d)(?=(\\d{3})+\\.)/g, \"$1,\").toString();\n    }\n\n\n    /* Checkout listener\n    ============================================================ */\n    function attachCheckoutButtonListeners() {\n      jQuery('.btn--cart-checkout').on('click', function () {\n        window.open(cart.checkoutUrl, '_self');\n      });\n    }\n\n    /* Update cart tab button\n    ============================================================ */\n    function updateCartTabButton() {\n      if (cart.lineItems.length > 0) {\n        var totalItems = cart.lineItems.reduce(function(total, item) {\n          return total + item.quantity;\n        }, 0);\n        jQuery('.btn--cart-tab .btn__counter').html(totalItems);\n        jQuery('.btn--cart-tab').addClass('js-active');\n      } else {\n        jQuery('.btn--cart-tab').removeClass('js-active');\n        jQuery('.cart').removeClass('js-active');\n      }\n\n      jQuery('.btn--cart-tab').click(function() {\n        openCart();\n      });\n    }\n\n\n});\n","/*\nThese functions make sure WordPress\nand Foundation play nice together.\n*/\n\njQuery(document).ready(function() {\n\n    // Remove empty P tags created by WP inside of Accordion and Orbit\n    jQuery('.accordion p:empty, .orbit p:empty').remove();\n\n    // Makes sure last grid item floats left\n    jQuery('.archive-grid .columns').last().addClass( 'end' );\n\n    // Adds Flex Video to YouTube and Vimeo Embeds\n    jQuery('iframe[src*=\"youtube.com\"], iframe[src*=\"vimeo.com\"]').each(function() {\n      if ( jQuery(this).innerWidth() / jQuery(this).innerHeight() > 1.5 ) {\n        jQuery(this).wrap(\"<div class='widescreen flex-video'/>\");\n      } else {\n        jQuery(this).wrap(\"<div class='flex-video'/>\");\n      }\n    });\n\n    jQuery( '.popup-close-button' ).click(function() {\n        jQuery( '.user-guide-callout' ).addClass( 'hide' );\n    });\n\n    jQuery( '.user-guide-button' ).click(function() {\n        jQuery( '.user-guide-callout' ).addClass( 'hide' );\n        var theCallout = jQuery( this ).data( 'popup' );\n        jQuery( '#'+theCallout ).removeClass( 'hide' );\n    });\n\n\n});\n"],"sourceRoot":"/source/"}